@page "/testpresidencial"
@inject HttpClient Http

<QuestionComponent Questions="questions"></QuestionComponent>

<ResultsComponent Results="@results"></ResultsComponent>

@code {
	private List<PartidoPolitico> partidosPoliticos;
	private List<CandidatoGeneral> candidatosPoliticos;
	private List<HojaDeVida> hojasDeVida;
	private List<Result> results = new List<Result> { };
	private List<Question> questions = new List<Question> { };


	protected override async Task OnInitializedAsync()
	{
		var temp = await Http.GetFromJsonAsync<PartidoPolitico[]>("sample-data/presidentialList0.json");

		//Filter out improsedente
		partidosPoliticos = temp.ToList().Where(
			x => !x.strEstadoLista.Equals("IMPROCEDENTE", StringComparison.InvariantCultureIgnoreCase)).ToList();

		//Filter out improsedente
		var temp2 = await Http.GetFromJsonAsync<CandidatoGeneral[]>("sample-data/presidentialList1.json");
		candidatosPoliticos = temp2.ToList().Where(
			x => !x.strEstadoExp.Equals("IMPROCEDENTE", StringComparison.InvariantCultureIgnoreCase)).ToList();

		var temp3 = await Http.GetFromJsonAsync<HojaDeVida[]>("sample-data/presidentialList2.json");
		hojasDeVida = temp3.ToList();

		LoadResults();

		Question question = new Question
		{
			Title = "Conformación por sexo",
			Description = "Todos los partidos tienen al menos 1 persona de cada genero en la lista para presidencia, " +
			"1a vicepresidencia y 2a vicepresidencia. ¿Cual es tu conformación preferida?",
			Options = new List<string> { "2 mujeres y 1 hombre", "2 hombres y 1 mujer" },
			OnNext = filterByGender
		};
		questions.Add(question);

		Question question2 = new Question
		{
			Title = "País de nacimiento",
			Description = "¿En qué país nacieron los candidatos a la presidencia, 1ra vicepresidencia y 2da vicepresidencia?",
			Options = new List<string> { "Perú" },
			OnNext = filterByBirthplace
		};
		questions.Add(question2);

		Question question3 = new Question
		{
			Title = "Minimo nivel de educación concluída",
			Description = "¿Cual es el minimo nivel de educacíon concluída de los candidatos a la presidencia, 1ra " +
			"vicepresidencia y 2da vicepresidencia?",
			Options = new List<string> { "Primaria", "Secundaria", "Estudio universitario", "Postgrado" },
			OnNext = filterByEduLevel
		};
		questions.Add(question3);

		Question question4 = new Question
		{
			Title = "Cargos Partidarios",
			Description = "Los candidatos a la presidencia, 1ra vicepresidencia y 2da vicepresidencia deben haber desempeñado " +
			"un cargo partidario en su trayectoria política (cargo en organización política)",
			Options = new List<string> { "Si", "No" },
			OnNext = filterByCargoPartidario
		};
		questions.Add(question4);

		Question question5 = new Question
		{
			Title = "Cargos de Elección Popular",
			Description = "Los candidatos a la presidencia, 1ra vicepresidencia y 2da vicepresidencia deben haber desempeñado " +
			"un cargo de elección popular (ejemplo alcalde, regidor, congresista, etc.)",
			Options = new List<string> { "Si", "No" },
			OnNext = filterByCargoElecto
		};
		questions.Add(question5);

		Question question6 = new Question
		{
			Title = "Renuncias a otros partidos",
			Description = "Los candidatos a la presidencia, 1ra vicepresidencia y 2da vicepresidencia pueden " +
			"haber renunciado a otros partidos, movimientos de alcance regional o departamental u organizaciones políticas de alcance " +
			"provincial y distrital",
			Options = new List<string> { "Candidatos con renuncias", "Candidatos sin renuncias" },
			OnNext = filterByRenuncias
		};
		questions.Add(question6);

		Question question7 = new Question
		{
			Title = "Relación de sentencias",
			Description = "Los candidatos a la presidencia, 1ra vicepresidencia y 2da vicepresidencia",
			Options = new List<string> { "Candidatos sin sentencias"},
			OnNext = filterBySentencias
		};
		questions.Add(question7);
	}

	#region actions
	public void filterBySentencias(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault();
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault();
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault();

				if ((preshoja != null &&
					(preshoja.SentenciaPenal.Where(x => x.strTengoSentenciaPenal.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0 ||
					preshoja.SentenciaObliga.Where(x => x.strTengoSentenciaObliga.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
					) ||
		(vice1hoja != null &&
					(vice1hoja.SentenciaPenal.Where(x => x.strTengoSentenciaPenal.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0 ||
					vice1hoja.SentenciaObliga.Where(x => x.strTengoSentenciaObliga.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
					) ||
		(vice2hoja != null &&
					(vice2hoja.SentenciaPenal.Where(x => x.strTengoSentenciaPenal.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0 ||
					vice2hoja.SentenciaObliga.Where(x => x.strTengoSentenciaObliga.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
					)
		)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByRenuncias(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.RenunciaOP;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.RenunciaOP;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.RenunciaOP;

				if ((preshoja != null && preshoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0)
		)
				{
					failed.Add(i);
				}
			}
		}

		if (option.Equals("2", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.RenunciaOP;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.RenunciaOP;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.RenunciaOP;

				if ((preshoja != null && preshoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strTengoRenunciaOP.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
		)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByCargoElecto(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.CargoEleccion;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.CargoEleccion;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.CargoEleccion;

				if ((preshoja != null && preshoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0)
		)
				{
					failed.Add(i);
				}
			}
		}
		else if (option.Equals("2", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.CargoEleccion;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.CargoEleccion;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.CargoEleccion;

				if ((preshoja != null && preshoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strCargoEleccion.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
		)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByCargoPartidario(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.CargoPartidario;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.CargoPartidario;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.CargoPartidario;

				if ((preshoja != null && preshoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() == 0)
		)
				{
					failed.Add(i);
				}
			}
		}
		else if (option.Equals("2", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.CargoPartidario;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.CargoPartidario;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.CargoPartidario;

				if ((preshoja != null && preshoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice1hoja != null && vice1hoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0) ||
		(vice2hoja != null && vice2hoja.Where(x => x.strTengoCargoPartidario.Equals("1", StringComparison.InvariantCultureIgnoreCase)).Count() > 0)
		)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByEduLevel(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("4", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.EduPosgrado?.strConcluidoPosgrado;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.EduPosgrado?.strConcluidoPosgrado;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.EduPosgrado?.strConcluidoPosgrado;

				if ((preshoja != null && !(preshoja == "1")) ||
			(vice1hoja != null && !(vice1hoja == "1")) ||
			(vice2hoja != null && !(vice2hoja == "1"))
			)
				{
					failed.Add(i);
				}
			}
		}
		else if (option.Equals("3", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.EduUniversitaria?.Any(x => x.strConcluidoEduUni != null && x.strConcluidoEduUni == "1");
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.EduUniversitaria?.Any(x => x.strConcluidoEduUni != null && x.strConcluidoEduUni == "1");
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.EduUniversitaria?.Any(x => x.strConcluidoEduUni != null && x.strConcluidoEduUni == "1");

				if ((preshoja != null && !preshoja.Value) ||
				(vice1hoja != null && !vice1hoja.Value) ||
				(vice2hoja != null && !vice2hoja.Value)
				)
				{
					failed.Add(i);
				}
			}
		}
		else if (option.Equals("2", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduSecundaria;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduSecundaria;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduSecundaria;

				if ((preshoja != null && !(preshoja == "1")) ||
			(vice1hoja != null && !(vice1hoja == "1")) ||
			(vice2hoja != null && !(vice2hoja == "1"))
			)
				{
					failed.Add(i);
				}
			}
		}
		else if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduPrimaria;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduPrimaria;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.EduBasica?.strConcluidoEduPrimaria;

				if ((preshoja != null && !(preshoja == "1")) ||
			(vice1hoja != null && !(vice1hoja == "1")) ||
			(vice2hoja != null && !(vice2hoja == "1"))
			)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByBirthplace(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			foreach (var i in partidosPoliticos)
			{
				var president = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 1);
				var vicepres1 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 2);
				var vicepres2 = candidatosPoliticos.FirstOrDefault(x => x.idSolicitudLista == i.idSolicitudLista && x.idCargoEleccion == 3);
				var preshoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == president?.idHojaVida).FirstOrDefault()?.DatosPersonales?.strPaisNacimiento;
				var vice1hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres1?.idHojaVida).FirstOrDefault()?.DatosPersonales?.strPaisNacimiento;
				var vice2hoja = hojasDeVida.Where(x => x.DatosPersonales.idHojaVida == vicepres2?.idHojaVida).FirstOrDefault()?.DatosPersonales?.strPaisNacimiento;

				if ((preshoja != null && !preshoja.Equals("PERÚ", StringComparison.InvariantCultureIgnoreCase)) ||
					(vice1hoja != null && !vice1hoja.Equals("PERÚ", StringComparison.InvariantCultureIgnoreCase)) ||
					(vice2hoja != null && !vice2hoja.Equals("PERÚ", StringComparison.InvariantCultureIgnoreCase))
					)
				{
					failed.Add(i);
				}
			}
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	public void filterByGender(string option)
	{
		List<PartidoPolitico> failed = new List<PartidoPolitico>();

		if (option.Equals("1", StringComparison.InvariantCultureIgnoreCase))
		{
			failed = partidosPoliticos.Where(x => x.intCandHombres > x.intCandMujeres).ToList();
		}
		else if (option.Equals("2", StringComparison.InvariantCultureIgnoreCase))
		{
			failed = partidosPoliticos.Where(x => x.intCandMujeres > x.intCandHombres).ToList();
		}

		foreach (var i in partidosPoliticos)
		{
			if (failed.Count > 0 && failed.Exists(x => x.idOrganizacionPolitica == i.idOrganizacionPolitica))
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(false);
			}
			else
			{
				results.Where(x => x.Id == i.idOrganizacionPolitica).FirstOrDefault().AddCounter(true);
			}
		}

		StateHasChanged();
	}

	#endregion

	public void LoadResults()
	{
		foreach (var i in partidosPoliticos)
		{
			results.Add(new Result()
			{
				Id = i.idOrganizacionPolitica,
				ImageRoute = $"sample-data/Logo/{i.idOrganizacionPolitica}.png",
				Name = i.strOrganizacionPolitica
			});
		}
	}
}